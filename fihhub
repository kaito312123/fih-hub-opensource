local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- [[ SETTINGS ]] --
local NOME_DA_PART = "WINPART"
local KEY_LINK = "https://paste-bin.org/gfbqx9xw7q"
_G.tpEnabled = false
_G.noclip = false
_G.flyEnabled = false
_G.flySpeed = 50

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

-- [[ KEY SYSTEM ]] --
local Window = Rayfield:CreateWindow({
   Name = "FihHub",
   LoadingTitle = "FihHub Loading...",
   LoadingSubtitle = "by Slick1245",
   ConfigurationSaving = { Enabled = true, FolderName = "FihHubConfigs", FileName = "key" },
   KeySystem = true,
   KeySettings = {
      Title = "Security Access",
      Subtitle = "Key System",
      Note = "Check your clipboard for the link!",
      FileName = "key",
      SaveKey = true,
      GrabKeyFromSite = false,
      Key = {"SlickKey123"} 
   }
})

-- [[ FORCED CLIPBOARD FIX ]] --
task.spawn(function()
    -- Tenta copiar 5 vezes com intervalos para garantir que o executor processe
    for i = 1, 5 do
        pcall(function()
            setclipboard(KEY_LINK)
        end)
        task.wait(2)
    end
    
    Rayfield:Notify({
       Title = "System",
       Content = "Key link copied to clipboard! (Retry finished)",
       Duration = 5,
    })
end)

-- [[ TABS ]] --
local MainTab = Window:CreateTab("Main", 4483345998)
local MovementTab = Window:CreateTab("Movement", 4483345998)
local CreditsTab = Window:CreateTab("Credits", 4483345998)

-- [[ MAIN ]] --
MainTab:CreateSection("--- Farming ---")
MainTab:CreateToggle({
   Name = "Auto Teleport",
   CurrentValue = false,
   Callback = function(Value) _G.tpEnabled = Value end,
})

-- [[ MOVEMENT ]] --
MovementTab:CreateSection("--- Binds ---")
MovementTab:CreateKeybind({
   Name = "Fly (F)",
   CurrentKeybind = "F",
   Callback = function() _G.flyEnabled = not _G.flyEnabled end,
})

MovementTab:CreateKeybind({
   Name = "Noclip (N)",
   CurrentKeybind = "N",
   Callback = function() _G.noclip = not _G.noclip end,
})

-- [[ CREDITS ]] --
CreditsTab:CreateSection("--- Owner ---")
CreditsTab:CreateLabel("Script by: Slick1245")
CreditsTab:CreateParagraph({
    Title = "Instructions", 
    Content = "Key link is: " .. KEY_LINK .. "\nPress [LEFT ALT] to toggle UI."
})

-- [[ LOGIC ]] --
-- Client-side Noclip Logic
RunService.Stepped:Connect(function()
    if _G.noclip and LocalPlayer.Character then
        for _, v in pairs(LocalPlayer.Character:GetDescendants()) do
            if v:IsA("BasePart") then v.CanCollide = false end
        end
    end
end)

-- Alt Keybind to Toggle UI
UserInputService.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.LeftAlt then
        local gui = game:GetService("CoreGui"):FindFirstChild("Rayfield") or LocalPlayer:WaitForChild("PlayerGui"):FindFirstChild("Rayfield")
        if gui then gui.Enabled = not gui.Enabled end
    end
end)

Rayfield:LoadConfiguration()
